<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
        <style>
            body{
                background-color: #dfdfdf;
            }
        </style>
    </h:head>
    <h:body>
        <h:form>
            <div style="margin-bottom: 10px;">
                <p:menubar>
                    <p:menuitem value="Inicio" icon="fa fa-home" url="index.xhtml" style="font-size: 18px;"/>
                    <p:menuitem value="Usuarios" icon="fa fa-users" url="Usuarios.xhtml" style="font-size: 18px;"/>
                    <p:submenu label="Empleados" icon="fa fa-user" style="font-size: 18px;">
                        <p:menuitem value="Añadir" icon="fa fa-plus" url="Empleados.xhtml" style="font-size: 15px;"/>
                        <p:menuitem value="Consultar" icon="fa fa-search" url="ConsultaEmpleados.xhtml" style="font-size: 15px;"/>
                    </p:submenu>
                    <p:submenu label="Matricula" icon="fa fa-pencil-square-o" style="font-size: 18px;">
                        <p:menuitem value="Añadir Matricula" icon="fa fa-plus" url="registroMatricula.xhtml" style="font-size: 15px;"/>
                        <p:menuitem value="Consultar Alumnos" icon="fa fa-search" url="Alumnos.xhtml" style="font-size: 15px;"/>
                        <p:menuitem value="Consultar Encargados" icon="fa fa-search" url="Encargados.xhtml" style="font-size: 15px;"/>
                    </p:submenu>

                    <p:menuitem value="Reportes" icon="fa fa-file-pdf-o" style="font-size: 18px;"/>
                    <p:menuitem value="Control de Notas" icon="fa fa-list-alt" url="controlNotas.xhtml" style="font-size: 18px;"/>
                    <p:submenu icon="pi pi-circle-on" label="#{loginMB.usuario.usuario}" style="float: right; font-size: 18px;">
                        <p:menuitem value="Salir" icon="fa fa-sign-out" action="#{loginMB.logout()}" style=" font-size: 15px; margin-top: 2.5px;"/>
                    </p:submenu>
                </p:menubar>
            </div>
        </h:form>
        <h:form id="formEncargados">
            <p:growl id="messageEncargados"/>
            <p:dataTable id="tableEncargados" var="encar" value="#{registroAlumnosMb.listaEncargados}" paginator="true" rows="12" rowHover="true">
                <p:columnGroup type="header">
                    <p:column headerText="ID"/>
                    <p:column headerText="Nombres" colspan="2"/>
                    <p:column headerText="Apellidos" colspan="2"/>
                    <p:column headerText="Telefono"/>
                    <p:column headerText="Direccion"/>
                    <p:column headerText="Edad"/>
                    <p:column headerText="DUI"/>
                    <p:column headerText="NIT"/>
                    <p:column headerText="" width="30"/>
                </p:columnGroup>
                <p:column>
                    <p:outputLabel value="#{encar.idEncargado}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.primerNombre}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.segundoNombre}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.primerApellido}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.segundoApellido}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.telefono}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.direccion}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.edad}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.dui}"/>
                </p:column>
                <p:column>
                    <p:outputLabel value="#{encar.nit}"/>
                </p:column>
                <p:column>
                    <p:commandButton icon="fa fa-fw fa-edit" value="#{registroAlumnosMb.selectByIdEncargado(encar)}" oncomplete="PF('updateEncargado').show()" update="encargadoUpdate"/>
                </p:column>
            </p:dataTable>
        </h:form>
        <p:dialog id="encargadoUpdate" widgetVar="updateEncargado" header="Editar Datos del Encargado" modal="true">
            <h:form>
                <h:panelGrid columns="2">
                    <p:outputLabel value="Primer Nombre:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.primerNombre}"/>
                    <p:outputLabel value="Segundo Nombre:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.segundoNombre}"/>
                    <p:outputLabel value="Primer Apellido:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.primerApellido}"/>
                    <p:outputLabel value="Segundo Apellido:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.segundoApellido}"/>
                    <p:outputLabel value="DUI:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.dui}"/>
                    <p:outputLabel value="NIT:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.nit}"/>
                    <p:outputLabel value="Telefono:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.telefono}"/>
                    <p:outputLabel value="Direccion:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.direccion}"/>
                    <p:outputLabel value="Edad:"/>
                    <p:inputText value="#{registroAlumnosMb.encargados.edad}"/>
                </h:panelGrid>
                <center>
                    <p:commandButton value="Actualizar" action="#{registroAlumnosMb.actualizarEncargado()}" oncomplete="PF('updateEncargado').hide()" update="formEncargados:messageEncargados, formEncargados:tableEncargados"/>
                </center> 
            </h:form>
        </p:dialog>
    </h:body>
</html>

