<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"    
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
        <style>
            body{
                background-color: #5c5c5c;
            }
        </style>
    </h:head>
    <h:body>
        <h:form>
            <div style="margin-bottom: 10px;">
                <p:menubar>
                    <p:menuitem value="Inicio" icon="fa fa-home" url="index.xhtml" style="font-size: 18px;"/>
                    <p:menuitem value="Usuarios" icon="fa fa-users" url="Usuarios.xhtml" style="font-size: 18px;"/>
                    <p:menuitem value="Empleados" icon="fa fa-user" url="Empleados.xhtml" style="font-size: 18px;"/>
                    <p:menuitem value="Matricula" icon="fa fa-pencil-square-o" url="registroMatricula.xhtml" style="font-size: 18px;"/>
                    <p:submenu icon="pi pi-circle-on" label="#{loginMB.usuario.usuario}" style="float: right; font-size: 18px;">
                        <p:menuitem icon="fa fa-sign-out" action="#{loginMB.logout()}" style="margin-top: 2.5px;"/>
                    </p:submenu>
                </p:menubar>
            </div>
        </h:form>
        <h:form id="reporte">

            <p:panelGrid>
                <center><h2>Seleccione el Tipo de reporte</h2></center>
                <center>
                    <p:selectOneMenu id="matriculax" value="#{utilReport.matriculax}">
                        <p:ajax event="change" listener="#{utilReport.filtroMatricula()}" update="reporte"/>
                        <f:selectItem itemLabel="Seleccion de Reporte" itemValue="0"/>
                        <f:selectItem itemLabel="Todo" itemValue="1"/>                
                        <f:selectItem itemLabel="Opcion" itemValue="2"/>
                        <f:selectItem itemLabel="Seccion" itemValue="3"/>
                    </p:selectOneMenu>
                    <br/>
                    <p:commandLink action="#{utilReport.reporteToPdf()}" ajax="false">
                        <img src="res/icon/oficina_pdf.png" alt="" title="Exportar a PDF"/>
                    </p:commandLink>
                    <br/>
                </center>
            </p:panelGrid>
            <center>
                <p:panelGrid columns="2" rendered="#{utilReport.vistaxOpcion}">
                    <p:outputLabel value="Reporte por opcion"/>    
                    <p:inputText value="#{utilReport.porOpcion}"/>

                </p:panelGrid>

                <p:panelGrid columns="2" rendered="#{utilReport.vistaxSeccion}">
                    <p:outputLabel value="Reporte por Seccion"/>    
                    <p:inputText value="#{utilReport.porSeccion}"/>
                </p:panelGrid>


            </center>

        </h:form>
        <br></br>
        <h:form>
            <p:dataTable var="matricula" value="#{registroMatriculaMb.matriculaList}" rows="8" >
                <p:column headerText="Matricula">
                    <p:outputLabel value="#{matricula.idMatricula}"/>
                </p:column>

                <p:column headerText="Nombre del Alumno">
                    <p:outputLabel value="#{matricula.idAlumno.primerNombre}  #{matricula.idAlumno.segundoNombre}"/>
                </p:column>

                <p:column headerText="Apellido del Alumno">
                    <p:outputLabel value="#{matricula.idAlumno.primerApellido} #{matricula.idAlumno.segundoApellido}"/>
                </p:column>

                <p:column headerText="Opcion">
                    <p:outputLabel value="#{matricula.idOpcion.descripcion}"/>
                </p:column>

                <p:column headerText="Seccion">
                    <p:outputLabel value="#{matricula.idOpcion.seccion}"/>
                </p:column>

                <p:column headerText="Tipo de Ingreso">
                    <p:outputLabel value="#{matricula.idTipo.nombre}"/>
                </p:column>

            </p:dataTable>
        </h:form>
    </h:body>
</html>
